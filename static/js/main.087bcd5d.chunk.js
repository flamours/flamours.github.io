(this["webpackJsonpflamours-react"]=this["webpackJsonpflamours-react"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(1),r=c.n(a),n=c(14),i=c.n(n),l=(c(43),c(44),c(4)),o=c(6),d=c(3),j=c(2),u=(c(49),c(50),c.p+"static/media/Flamours_Logo.a4c57ab5.svg"),b=c.p+"static/media/facebook.ac928fc6.svg",m=c.p+"static/media/Chat.2b675282.svg";var x=function(){return Object(s.jsxs)("header",{className:"HomeHeader",children:[Object(s.jsx)("a",{href:"/",children:Object(s.jsx)("img",{src:u,alt:"Flamour's"})}),Object(s.jsxs)("div",{className:"icons-ctr",children:[Object(s.jsx)(l.b,{to:"/contact",children:Object(s.jsx)("img",{src:m,alt:"Contact"})}),Object(s.jsx)("a",{href:"https://www.facebook.com/Flamours-624881878167019",target:"_blank",rel:"noreferrer",children:Object(s.jsx)("img",{src:b,alt:"Facebook"})})]})]})},O=(c(52),c.p+"static/media/Add-White.f7b52f5f.svg");var h=function(e){var t=e.id,c=e.title,a=e.coverImageUrl,r=e.measure,n=e.price,i=e.addBtnOnClick;return Object(s.jsxs)("article",{className:"ProductCard",children:[Object(s.jsx)(l.b,{to:"/products/"+c.replace(/ /g,"-")+"_"+t.toString(),className:"img-ctr",style:{backgroundImage:"url('".concat(a,"')")}}),Object(s.jsxs)("div",{className:"details-ctr",children:[Object(s.jsxs)(l.b,{to:"/products/"+c.replace(/ /g,"-")+"_"+t.toString(),className:"details",children:[Object(s.jsx)("span",{className:"title",children:c}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{className:"price-details",children:[r," \u2022 Rs. ",n,"/-"]})]}),Object(s.jsx)("button",{className:"add-to-cart-btn",onClick:i,children:Object(s.jsx)("img",{src:O,alt:"Add to Cart"})})]})]})},p=(c(53),c.p+"static/media/Home.ffed6531.svg"),v=c.p+"static/media/Home_filled.47c5250f.svg",f=c.p+"static/media/Document.78bd03d1.svg",g=c.p+"static/media/Document_filled.c722692e.svg",N=c.p+"static/media/Buy.8ebb9c6f.svg",y=c.p+"static/media/Buy_filled.d8dc15d3.svg";var C=function(e){var t=e.active,c=e.cartCount,a=void 0===c?0:c;return Object(s.jsxs)("nav",{className:"BottomNavbar",children:[Object(s.jsxs)(l.b,{className:"nav-item-ctr",to:"/",children:["home"===t?Object(s.jsx)("img",{src:v,alt:""}):Object(s.jsx)("img",{src:p,alt:""}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"home"===t?"nav-link-text active":"nav-link-text",children:"Home"})]}),Object(s.jsxs)(l.b,{className:"nav-item-ctr prominent-item",to:"/cart",children:[Object(s.jsx)("span",{className:"prominent-icon-ctr",children:Object(s.jsxs)("span",{className:"prominent-icon-inner-ctr",children:[Object(s.jsx)("span",{children:a}),Object(s.jsx)("br",{}),"cart"===t?Object(s.jsx)("img",{src:y,alt:""}):Object(s.jsx)("img",{src:N,alt:""})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"cart"===t?"nav-link-text active":"nav-link-text",children:"Cart"})]}),Object(s.jsxs)(l.b,{className:"nav-item-ctr",to:"/orders",children:["orders"===t?Object(s.jsx)("img",{src:g,alt:""}):Object(s.jsx)("img",{src:f,alt:""}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"orders"===t?"nav-link-text active":"nav-link-text",children:"Orders"})]})]})};c(54);var _=function(){return Object(s.jsx)("div",{className:"LoadingSpinner"})},S="SET_PRODUCTS",w="SET_SEARCH_TEXT",k=function(e){return{type:w,payload:e}},T="ADD_TO_CART",I=function(e){return{type:T,payload:e}},E="SET_TOAST",R=function(e){return{type:E,payload:e}},D="SET_CALCULATED_CART",A=function(e){return{type:D,payload:e}},q="REMOVE_ITEM_FROM_CART",L="CLEAR_CART",B=function(e){return{type:L,payload:e}},F="SET_PREFERENCES",P=function(e){return{type:F,payload:e}},M="SET_IS_NEW_ORDER",H=function(e){return{type:M,payload:e}},Y=c(7),J=c.n(Y),U="http://flamours.pythonanywhere.com",G=U+"/api/v1/products",V=c.p+"static/media/Search.c1c2cfd7.svg",W=c.p+"static/media/Close.7328c405.svg";c(72);var X=function(e){var t=e.children,c=e.isVisible,a=e.sheetTitle,n=e.closeHandler,i=r.a.useState(!1),l=Object(j.a)(i,2),o=l[0],d=l[1];return r.a.useEffect((function(){c&&(d(!1),window.setTimeout((function(){d(!0)}),210))}),[c]),Object(s.jsxs)("div",{className:c?"BottomSheet visible":"BottomSheet",children:[Object(s.jsx)("div",{className:"bg-overlay",onClick:n}),Object(s.jsxs)("div",{className:o?"bottom-sheet-wpr scrollable":"bottom-sheet-wpr",children:[Object(s.jsx)("div",{className:"close-overlay",onClick:n}),Object(s.jsxs)("div",{className:"sheet",children:[Object(s.jsxs)("div",{className:"sheet-title-ctr",children:[Object(s.jsx)("img",{src:W,alt:"Close",style:{opacity:"0"}}),Object(s.jsx)("p",{className:"sheet-title",children:a}),Object(s.jsx)("img",{className:"close-icon",src:W,alt:"Close",onClick:n})]}),t]})]})]})},z=(c(73),c.p+"static/media/Decrease_qty.919c2b94.svg"),Q=c.p+"static/media/Increase_qty.410a640f.svg";var K=function(e){var t=e.product_id,c=e.addToCartBtnClickCallback,a=r.a.useState(1),n=Object(j.a)(a,2),i=n[0],l=n[1],o=Object(d.c)((function(e){return e.products.filter((function(e){return e.id===t}))[0]})),u=Object(d.b)(),b=function(e){return e<1?1:e>o.max_orderable?o.max_orderable:e};return Object(s.jsxs)("div",{className:"AddToCartSheetContent",children:[Object(s.jsx)("h3",{className:"product-title",children:o.name}),Object(s.jsxs)("label",{htmlFor:"qtyInputLabel",className:"qty-label",children:["Quantity: (Max ",o.max_orderable,")"]}),Object(s.jsxs)("div",{className:"quantity-input-ctr",children:[Object(s.jsx)("button",{className:"dec-btn",onClick:function(e){return l(b(i-1))},children:Object(s.jsx)("img",{src:z,alt:""})}),Object(s.jsx)("input",{id:"qtyInputLabel",type:"text",value:i,onChange:function(e){var t=parseInt(e.currentTarget.value,10);""===e.currentTarget.value&&(t=1),l(b(t))}}),Object(s.jsx)("button",{className:"inc-btn",onClick:function(e){return l(b(i+1))},children:Object(s.jsx)("img",{src:Q,alt:""})})]}),Object(s.jsxs)("button",{className:"confirm-btn",onClick:function(e){u(I({id:o.id,quantity:i})),u(R({text:"Added to Cart!",timeout:2e3})),c()},children:[Object(s.jsxs)("strong",{className:"sub-total",children:["PKR ",o.unit_price*i,"/-"]}),Object(s.jsx)("span",{className:"btn-text",children:"Confirm"})]})]})},$=c(21),Z=r.a.createContext(),ee=function(e){var t=e.children,c=r.a.useRef({});return Object(s.jsx)(Z.Provider,{value:c,children:t})},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=r.a.useContext(Z),s=r.a.useCallback((function(t){document.body.offsetHeight>window.innerHeight&&(c.current["_".concat(e,"_scrollX")]=window.scrollX,c.current["_".concat(e,"_scrollY")]=window.scrollY)}),[e,c]),a=r.a.useCallback((function(){window.scrollTo(c.current["_".concat(e,"_scrollX")]||0,c.current["_".concat(e,"_scrollY")]||0)}),[e,c].concat(Object($.a)(t)));return r.a.useLayoutEffect((function(){return function(){s()}}),[s]),r.a.useEffect((function(){a()}),[a]),r.a.useEffect((function(){return document.addEventListener("scroll",s),function(){document.removeEventListener("scroll",s)}}),[s]),c};var ce=function(){var e=r.a.useState(!0),t=Object(j.a)(e,2),c=t[0],a=t[1],n=r.a.useState(""),i=Object(j.a)(n,2),l=i[0],o=i[1],u=r.a.useState(!1),b=Object(j.a)(u,2),m=b[0],O=b[1],p=r.a.useState(null),v=Object(j.a)(p,2),f=v[0],g=v[1],N=Object(d.c)((function(e){return e.searchText})),y=Object(d.c)((function(e){return e.products})),w=Object(d.c)((function(e){return e.cartItems.length})),T=Object(d.b)();return te("homeScreenScrollY",[c]),r.a.useEffect((function(){var e,t;a(!0),o(""),e=function(e){a(!1);var t,c=e.data;c.error?o(c.error):T((t=c.payload,{type:S,payload:t}))},t=function(e){var t,c;a(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?o(e.response.data.error):o(e.message)},J.a.get(G).then((function(t){e(t)})).catch((function(e){t(e)}))}),[T]),Object(s.jsxs)("div",{className:"Home",children:[Object(s.jsx)(x,{}),Object(s.jsx)("h3",{className:"about-tagline",children:"Home made delicacies"}),Object(s.jsxs)("p",{className:"how-to-points",children:["\u2022 Tap on the Plus icon to add product to the cart. ",Object(s.jsx)("br",{}),"\u2022 Tap on the image to view more details."]}),Object(s.jsxs)("div",{className:"search-bar-ctr",children:[Object(s.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search ...",value:N,onChange:function(e){return T(k(e.currentTarget.value))}}),""===N?Object(s.jsx)("img",{src:V,alt:"",className:"search-icon",onClick:function(e){document.querySelector(".search-bar").focus()}}):Object(s.jsx)("img",{src:W,alt:"",className:"search-icon",style:{cursor:"pointer"},onClick:function(e){T(k("")),document.querySelector(".search-bar").focus()}})]}),c?Object(s.jsx)(_,{}):null,""!==l?Object(s.jsx)("p",{className:"err-text",children:l}):null,c||""!==l?null:y.map((function(e){return""===N||e.name.toLowerCase().includes(N.toLocaleLowerCase())?Object(s.jsx)(h,{id:e.id,title:e.name,coverImageUrl:U+e.cover_image,measure:e.unit_measure,price:e.unit_price,addBtnOnClick:function(t){O(!0),g(e.id)}},e.id):null})),Object(s.jsx)(C,{active:"home",cartCount:w}),Object(s.jsx)(X,{isVisible:m,sheetTitle:"Add to Cart",closeHandler:function(e){O(!1),g(null)},children:f?Object(s.jsx)(K,{product_id:f,addToCartBtnClickCallback:function(e){O(!1),g(null)}}):null})]})},se=(c(74),c(75),c(76),c(38)),ae=c.n(se);var re=function(e){var t=e.imageLinks;return r.a.useEffect((function(){return ae.a.run("image-ctr"),function(){!function(){var e=document.querySelector(".hb-wrapper");e.parentNode.removeChild(e)}()}}),[]),Object(s.jsx)("div",{className:"ImagesSlider",children:t.map((function(e,t){return Object(s.jsx)("a",{href:e,onClick:function(e){return e.preventDefault()},className:"image-ctr",style:{backgroundImage:"url('".concat(e,"')")}},t)}))})},ne=(c(77),c.p+"static/media/Arrow-Left-2.5675b6b6.svg");var ie=function(e){var t=e.children,c=e.hideBackBtn,a=Object(o.g)();return Object(s.jsxs)("div",{className:"TopBar",children:[c?null:Object(s.jsx)("button",{onClick:function(){a.goBack()},children:Object(s.jsx)("img",{src:ne,alt:""})}),t]})},le=c.p+"static/media/Arrow-Up-Square.b438c497.svg";var oe=function(){var e=Object(d.c)((function(e){return e.cartItems.length})),t=Object(d.b)(),c=r.a.useState(!0),a=Object(j.a)(c,2),n=a[0],i=a[1],l=r.a.useState(""),u=Object(j.a)(l,2),b=u[0],m=u[1],x=r.a.useState(window.location.href),h=Object(j.a)(x,1)[0],p=r.a.useState(!1),v=Object(j.a)(p,2),f=v[0],g=v[1],N=r.a.useState(null),y=Object(j.a)(N,2),S=y[0],w=y[1],k=r.a.useState(null),T=Object(j.a)(k,2),I=T[0],E=T[1],D=Object(o.h)().id;return r.a.useEffect((function(){i(!0),m(""),function(e,t,c){J.a.get(G+"/"+e).then((function(e){t(e)})).catch((function(e){c(e)}))}(D,(function(e){i(!1);var t=e.data;if(t.error)return E(null),void m(t.error);E(t.payload)}),(function(e){var t,c;i(!1),E(null),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?m(e.response.data.error):m(e.message)})),window.scrollTo(0,0)}),[D]),Object(s.jsxs)("div",{className:"ProductDetails",children:[Object(s.jsx)(ie,{children:Object(s.jsxs)("button",{onClick:function(e){var c=document.getElementById("shareableLinkInput");c.style.display="block",c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),c.style.display="none",t(R({text:"Link Copied!",timeout:2e3}))},children:[Object(s.jsx)("span",{children:"Copy Link"}),Object(s.jsx)("img",{src:le,alt:""})]})}),n?Object(s.jsx)(_,{}):null,!n&&I&&""===b?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(re,{imageLinks:[U+I.cover_image].concat(Object($.a)(I.product_images.map((function(e){return U+e.image}))))}),Object(s.jsx)("h1",{className:"title",children:I.name}),Object(s.jsxs)("p",{className:"price-details",children:[I.unit_measure," \u2022 Rs. ",I.unit_price,"/-"]}),Object(s.jsx)("p",{className:"description",children:I.description.replace("/\r\n/g","\n").split("\n").map((function(e,t){return Object(s.jsxs)("span",{children:[e,Object(s.jsx)("br",{})]},t)}))}),Object(s.jsx)("input",{type:"text",readOnly:!0,value:h,id:"shareableLinkInput",style:{display:"none"}}),Object(s.jsx)("div",{className:"add-to-cart-btn-ctr",children:Object(s.jsx)("button",{className:"add-to-cart-btn",onClick:function(e){g(!0),w(I.id)},children:Object(s.jsx)("img",{src:O,alt:"Add to Cart"})})})]}):null,""!==b?Object(s.jsx)("p",{className:"err-text",children:b}):null,Object(s.jsx)(C,{cartCount:e}),Object(s.jsx)(X,{isVisible:f,sheetTitle:"Add to Cart",closeHandler:function(e){g(!1),w(null)},children:S?Object(s.jsx)(K,{product_id:S,addToCartBtnClickCallback:function(e){g(!1),w(null)}}):null})]})},de=(c(78),c.p+"static/media/Delete.d0e5641d.svg"),je=(c(79),c.p+"static/media/Delete-item.bd4984ca.svg");var ue=function(e){var t=e.id,c=e.title,a=e.coverImageUrl,n=e.unitPrice,i=e.unitMeasure,o=e.quantity,u=e.subTotal,b=e.maxOrderable,m=r.a.useState(o),x=Object(j.a)(m,2),O=x[0],h=x[1],p=r.a.useState(!1),v=Object(j.a)(p,2),f=v[0],g=v[1],N=r.a.useRef(null),y=Object(d.b)(),C=function(e){return e<1?1:e>b?b:e},_=r.a.useCallback((function(){clearTimeout(N.current),N.current=window.setTimeout((function(){y(I({id:t,quantity:O})),y(R({text:"Cart Updated!",timeout:2e3}))}),750),g(!1)}),[O,y,t]);return r.a.useEffect((function(){f&&_()}),[O,f,_]),r.a.useEffect((function(){h(o)}),[o]),Object(s.jsxs)("div",{className:"CartItem",children:[Object(s.jsx)("div",{className:"img-ctr",style:{backgroundImage:"url('".concat(a,"')")},children:Object(s.jsx)("button",{className:"close-icon",onClick:function(e){y({type:q,payload:{id:t}}),y(R({text:"Cart Updated!",timeout:2e3}))},children:Object(s.jsx)("img",{src:je,alt:""})})}),Object(s.jsxs)("p",{className:"details",children:[Object(s.jsx)(l.b,{to:"/products/"+c.replace(/ /g,"-")+"_"+t.toString(),children:Object(s.jsxs)("span",{className:"title",children:[c," \u2022 ",i]})}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{className:"sub-total",children:[Object(s.jsxs)("span",{children:["Rs. ",u,"/- "]}),Object(s.jsxs)("span",{className:"sub-total-eqn",children:[" (",n," \xd7 ",o,")"]})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{className:"max-qty",children:["Max Qty: ",b]})]}),Object(s.jsxs)("div",{className:"qty-input-ctr",children:[Object(s.jsx)("button",{className:"inc-btn",onClick:function(e){h(C(O+1)),g(!0)},children:Object(s.jsx)("img",{src:Q,alt:""})}),Object(s.jsx)("input",{type:"text",value:O,onChange:function(e){var t=parseInt(e.currentTarget.value,10);""===e.currentTarget.value&&(t=1),h(C(t)),g(!0)}}),Object(s.jsx)("button",{className:"dec-btn",onClick:function(e){h(C(O-1)),g(!0)},children:Object(s.jsx)("img",{src:z,alt:""})})]})]})},be=function(e,t,c){J.a.post("http://flamours.pythonanywhere.com/api/v1/cart/calculate",{products:e}).then((function(e){t(e)})).catch((function(e){c(e)}))},me=function(e,t){J.a.get("http://flamours.pythonanywhere.com/api/v1/preferences").then((function(t){e(t)})).catch((function(e){t(e)}))};var xe=function(){var e=r.a.useState(!0),t=Object(j.a)(e,2),c=t[0],a=t[1],n=r.a.useState(""),i=Object(j.a)(n,2),o=i[0],u=i[1],b=Object(d.b)(),m=Object(d.c)((function(e){return e.cartItems})),x=Object(d.c)((function(e){return e.cartItems.length})),O=Object(d.c)((function(e){return e.calculatedCart})),h=Object(d.c)((function(e){return e.preferences})),p=r.a.useState(!1),v=Object(j.a)(p,2),f=v[0],g=v[1];return te("cartScreenScrollY",[c]),r.a.useEffect((function(){m.length>0?(a(!0),u(""),be(m,(function(e){a(!1);var t=e.data;t.error?u(t.error):b(A(t.payload))}),(function(e){var t,c;a(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?u(e.response.data.error):u(e.message)})),me((function(e){a(!1);var t=e.data;t.error?u(t.error):b(P(t.payload))}),(function(e){var t,c;a(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?u(e.response.data.error):u(e.message)}))):a(!1),window.scrollTo(0,0)}),[m,b]),r.a.useEffect((function(){O&&h&&g(O.total>=h.settings.min_order_amount_for_delivery)}),[O,h]),Object(s.jsxs)("div",{className:"Cart",children:[Object(s.jsx)(ie,{children:Object(s.jsxs)("button",{onClick:function(e){window.confirm("Are you sure you want to remove everything from cart?")&&(b(B({})),b(R({text:"Cart Cleared!",timeout:2e3})))},children:[Object(s.jsx)("span",{children:"Clear Cart"}),Object(s.jsx)("img",{src:de,alt:""})]})}),Object(s.jsxs)("p",{className:"cart-items-count",children:["Cart \u2022 ",Object(s.jsxs)("span",{children:[x," ",1!==x?"Items":"Item"]})]}),c?Object(s.jsx)(_,{}):null,Object(s.jsx)("div",{className:"divider"}),""!==o?Object(s.jsx)("p",{className:"err-text",children:o}):null,c||""!==o||0!==x?null:Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{className:"err-text",children:["You haven't added anything to the cart yet!",Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/",className:"empty-cart-cta",children:"Start Adding"})]})}),c||""!==o||0===x?null:O.items.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsx)(ue,{id:e.id,title:e.name,coverImageUrl:U+e.cover_image,unitPrice:e.unit_price,unitMeasure:e.unit_measure,quantity:e.quantity,subTotal:e.sub_total,maxOrderable:e.max_orderable}),Object(s.jsx)("div",{className:"divider"})]},t)})),c||""!==o||0===x?null:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("p",{className:"cart-total",children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"TOTAL: "}),Object(s.jsx)("br",{}),Object(s.jsx)("small",{children:"(Excl. of Tax & Delivery)"})]}),Object(s.jsx)("span",{className:"text-right",children:Object(s.jsxs)("strong",{children:["Rs. ",O.total,"/-"]})})]}),Object(s.jsx)("div",{className:"checkout-btn-ctr",children:Object(s.jsx)(l.b,{to:"/checkout",className:f?"checkout-btn":"checkout-btn disabled",onClick:function(e){f||(e.preventDefault(),b(R({text:"Min. order amount is Rs. ".concat(h.settings.min_order_amount_for_delivery,"/-."),timeout:3e3})))},children:"Checkout"})})]}),Object(s.jsx)(C,{active:"cart",cartCount:x})]})},Oe=(c(80),c(22));var he=function(){var e,t,c=r.a.useState(!0),a=Object(j.a)(c,2),n=a[0],i=a[1],u=r.a.useState(""),b=Object(j.a)(u,2),m=b[0],x=b[1],O=r.a.useState(!1),h=Object(j.a)(O,2),p=h[0],v=h[1],f=r.a.useState(""),g=Object(j.a)(f,2),N=g[0],y=g[1],C=r.a.useState(!1),S=Object(j.a)(C,2),w=S[0],k=S[1],T=r.a.useState(""),I=Object(j.a)(T,2),E=I[0],D=I[1],q=r.a.useState(-1),L=Object(j.a)(q,2),F=L[0],M=L[1],Y=r.a.useState(!1),U=Object(j.a)(Y,2),G=U[0],V=U[1],W=r.a.useState(!1),X=Object(j.a)(W,2),z=X[0],Q=X[1],K=r.a.useState(!1),$=Object(j.a)(K,2),Z=$[0],ee=$[1],ce=r.a.useState(null),se=Object(j.a)(ce,2),ae=se[0],re=se[1],ne=Object(d.b)(),le=Object(d.c)((function(e){return e.cartItems})),oe=Object(d.c)((function(e){return e.cartItems.length})),de=Object(d.c)((function(e){return e.calculatedCart})),je=Object(d.c)((function(e){return e.preferences})),ue=r.a.useRef(null);return te("checkoutScreenScrollY",[n]),r.a.useEffect((function(){le.length>0?(i(!0),x(""),be(le,(function(e){i(!1);var t=e.data;t.error?x(t.error):ne(A(t.payload))}),(function(e){var t,c;i(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?x(e.response.data.error):x(e.message)})),me((function(e){i(!1);var t=e.data;t.error?x(t.error):ne(P(t.payload))}),(function(e){var t,c;i(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?x(e.response.data.error):x(e.message)}))):i(!1),window.scrollTo(0,0)}),[le,ne]),r.a.useEffect((function(){return ue.current&&(window.clearTimeout(ue.current),ue.current=null),ue.current=window.setTimeout((function(){F>0&&M(F-1)}),1e3),function(){ue.current&&(window.clearTimeout(ue.current),ue.current=null)}}),[F]),z?(function(){var e=window.localStorage.getItem("orders");(e=e?JSON.parse(e):{})[ae.uf_id]=ae.placed_on,window.localStorage.setItem("orders",JSON.stringify(e))}(),ne(H(!0)),Object(s.jsx)(o.a,{to:"/orders/"+ae.uf_id})):null!==ae?Object(s.jsxs)("div",{className:"Checkout",children:[Object(s.jsx)(ie,{}),Object(s.jsxs)("p",{className:"cart-items-count",children:["Checkout \u2022 ",Object(s.jsxs)("span",{children:[oe," ",1!==oe?"Items":"Item"]})]}),n?Object(s.jsx)(_,{}):null,""!==m?Object(s.jsx)("p",{className:"err-text",children:m}):null,n||""!==m||0!==oe?null:Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{className:"err-text",children:["You haven't added anything to the cart yet!",Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/",className:"empty-cart-cta",children:"Start Adding"})]})}),Object(s.jsx)("div",{className:"checkout-form-ctr",children:Object(s.jsxs)("form",{action:"",onSubmit:function(e){var t,c,s,a;k(!0),e.preventDefault(),t=ae.id,c=e.currentTarget.elements.otp_code.value,s=function(e){k(!1);var t=e.data;t.error?D(t.error):(ne(B({})),M(30),Q(!0),ne(R({text:"Order Placed Successfully!",timeout:2e3})))},a=function(e){var t,c;k(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?D(e.response.data.error):D(e.message)},J.a.patch("http://flamours.pythonanywhere.com/api/v1/order/verify/otp/"+t+"/"+c).then((function(e){s(e)})).catch((function(e){a(e)}))},children:[Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)("h5",{className:"checkout-page-title",children:"Contact Verification"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsxs)("label",{children:[Object(s.jsx)("strong",{children:"We have just sent a 6-digit Code on your Email and Mobile. Please enter that Code below."}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{children:"\u2022 Make sure to check Spam folder of your Email as well."})]}),Object(s.jsx)("input",{name:"otp_code",required:!0,type:"text",pattern:"[0-9]{6}",placeholder:"e.g. 123456"})]}),""!==E?Object(s.jsx)("p",{className:"err-text",style:{color:"crimson"},children:E}):null,Object(s.jsx)("div",{className:"form-group",children:w?Object(s.jsxs)("div",{style:{position:"relative"},children:[Object(s.jsx)("br",{}),Object(s.jsx)(_,{})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"submit",value:"Verify"}),Object(s.jsx)("br",{}),G?Object(s.jsx)("p",{className:"err-text",children:"Code re-sent successfully! Please check your Email and Mobile again."}):F>0?Object(s.jsx)("input",{type:"button",value:"Resend ("+F+")",className:"readonly"}):Object(s.jsx)("input",{onClick:function(e){var t,c,s;k(!0),t=ae.id,c=function(e){k(!1);var t=e.data;t.error?D(t.error):(V(!0),M(30))},s=function(e){var t,c;k(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?D(e.response.data.error):D(e.message)},J.a.patch("http://flamours.pythonanywhere.com/api/v1/order/resend/otp/"+t,{auth_id:"03c32d0c-5545-47d1-b579-88e439693501"}).then((function(e){c(e)})).catch((function(e){s(e)}))},type:"button",value:"Resend"})]})})]})})]}):Object(s.jsxs)("div",{className:"Checkout",children:[Object(s.jsx)(ie,{}),Object(s.jsxs)("p",{className:"cart-items-count",children:["Checkout \u2022 ",Object(s.jsxs)("span",{children:[oe," ",1!==oe?"Items":"Item"]})]}),n?Object(s.jsx)(_,{}):null,""!==m?Object(s.jsx)("p",{className:"err-text",children:m}):null,n||""!==m||0!==oe?null:Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{className:"err-text",children:["You haven't added anything to the cart yet!",Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/",className:"empty-cart-cta",children:"Start Adding"})]})}),n||""!==m||0===oe||null===je?null:Object(s.jsx)("div",{className:"checkout-form-ctr",children:Object(s.jsxs)("form",{action:"",onSubmit:function(e){(e.preventDefault(),Z)?(v(!0),function(e,t,c){J.a.post("http://flamours.pythonanywhere.com/api/v1/order/new",Object(Oe.a)({auth_id:"03c32d0c-5545-47d1-b579-88e439693501"},e)).then((function(e){t(e)})).catch((function(e){c(e)}))}({products:le,delivery_details:{delivery_date:e.currentTarget.elements.delivery_date.value,delivery_address:e.currentTarget.elements.delivery_address.value,additional_comments:e.currentTarget.elements.additional_comments.value,customer_name:e.currentTarget.elements.customer_name.value,customer_email:e.currentTarget.elements.customer_email.value,customer_phone:e.currentTarget.elements.customer_phone.value}},(function(e){v(!1);var t=e.data;t.error?y(t.error):(re(t.payload),M(30))}),(function(e){var t,c;v(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?y(e.response.data.error):y(e.message)}))):y("Please accept Terms & Conditions.")},children:[Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)("h5",{className:"checkout-page-title",children:"Delivery Details"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsxs)("label",{children:[Object(s.jsx)("strong",{children:"Delivery Date (Required)"}),Object(s.jsx)("br",{}),0!==(null===(e=je.settings)||void 0===e?void 0:e.min_advanced_booking_period)?Object(s.jsxs)("span",{children:["\u2022 Bookings are minimum ",(null===(t=je.settings)||void 0===t?void 0:t.min_advanced_booking_period)||1," days in advance."]}):null]}),Object(s.jsx)("select",{name:"delivery_date",required:!0,children:je.available_dates.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)}))})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsxs)("label",{children:[Object(s.jsx)("strong",{children:"Delivery Address (Required)"}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{children:"\u2022 Deliveries are only available in Lahore."})]}),Object(s.jsx)("textarea",{name:"delivery_address",maxLength:"500",required:!0,rows:"2",placeholder:"e.g. Hs.#1, St.#2, Area, City."}),Object(s.jsx)("p",{className:"err-text text-right",style:{marginTop:"2px"},children:Object(s.jsx)("span",{children:"Max. 500 characters. English alphabets only."})})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:Object(s.jsx)("strong",{children:"Additional Comments (Optional)"})}),Object(s.jsx)("textarea",{name:"additional_comments",maxLength:"500",rows:"2",placeholder:"e.g. No Sugar"}),Object(s.jsx)("p",{className:"err-text text-right",style:{marginTop:"2px"},children:Object(s.jsx)("span",{children:"Max. 500 characters. English alphabets only."})})]}),Object(s.jsx)("div",{className:"divider",style:{marginTop:"32px"}}),Object(s.jsx)("h5",{className:"checkout-page-title",children:"Contact Details"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:Object(s.jsx)("strong",{children:"Name (Required)"})}),Object(s.jsx)("input",{name:"customer_name",required:!0,type:"text",placeholder:"e.g. Ahmed Bilal"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:Object(s.jsx)("strong",{children:"Email (Required)"})}),Object(s.jsx)("input",{name:"customer_email",required:!0,type:"email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",placeholder:"e.g. name@example.com"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:Object(s.jsx)("strong",{children:"Mobile (Required)"})}),Object(s.jsx)("input",{name:"customer_phone",maxLength:"11",required:!0,type:"text",pattern:"[0-9]{11}",placeholder:"e.g. 03001234567"})]}),Object(s.jsx)("div",{className:"divider",style:{marginTop:"32px"}}),Object(s.jsxs)("p",{className:"cart-total",children:[Object(s.jsx)("span",{children:"Total: "}),Object(s.jsxs)("span",{className:"text-right",children:["Rs. ",de.total,"/-"]})]}),Object(s.jsxs)("p",{className:"cart-tax",children:[Object(s.jsxs)("span",{className:"text-right",children:["Tax ",de.tax_percentage,"%: "]}),Object(s.jsxs)("span",{children:["Rs. ",de.tax_amount,"/-"]})]}),Object(s.jsxs)("p",{className:"cart-tax",children:[Object(s.jsxs)("span",{children:["Delivery Charges:",Object(s.jsx)("br",{}),Object(s.jsxs)("small",{children:["(Free delivery above Rs. ",je.settings.free_delivery_order_amount,"/-)"]})]}),Object(s.jsxs)("span",{className:"text-right",children:["Rs. ",de.delivery_charges,"/-"]})]}),Object(s.jsxs)("p",{className:"cart-grand-total",children:[Object(s.jsx)("span",{children:"GRAND TOTAL: "}),Object(s.jsxs)("span",{className:"text-right",children:["Rs. ",de.grand_total,"/-"]})]}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsxs)("label",{className:"terms-conditions-ctr",children:[Object(s.jsx)("input",{type:"checkbox",value:Z,onChange:function(e){return ee(!Z)}})," I agree to the ",Object(s.jsx)(l.b,{to:"/termsconditions",children:"Terms & Conditions"}),"."]}),""!==N?Object(s.jsx)("p",{className:"err-text",style:{color:"crimson"},children:N}):null,Object(s.jsx)("div",{className:"form-group",style:{marginTop:"28px"},children:p?Object(s.jsxs)("div",{style:{position:"relative"},children:[Object(s.jsx)("br",{}),Object(s.jsx)(_,{})]}):Object(s.jsx)("input",{type:"submit",value:"Submit Order"})})]})})]})};c(81);var pe=function(){var e=r.a.useState(function(){var e=window.localStorage.getItem("orders");return e=e?JSON.parse(e):{}}()),t=Object(j.a)(e,1)[0],c=r.a.useState(Object.keys(t).length),a=Object(j.a)(c,1)[0],n=Object(d.c)((function(e){return e.cartItems.length}));return Object(s.jsxs)("div",{className:"Orders",children:[Object(s.jsx)(ie,{}),Object(s.jsxs)("p",{className:"title-text-ctr",children:["My Orders \u2022 ",Object(s.jsx)("span",{children:a})]}),Object(s.jsx)("div",{className:"divider"}),0===a?Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("p",{className:"err-text",children:["You haven't placed any order yet!",Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/",className:"empty-cart-cta",children:"Start Ordering"})]})}):null,a>0?Object(s.jsx)(s.Fragment,{children:Object.keys(t).map((function(e){return Object(s.jsxs)(l.b,{to:"/orders/"+e,className:"order-link",children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{className:"title",children:e}),Object(s.jsx)("br",{}),Object(s.jsxs)("span",{className:"small-text",children:["Placed on: ",Object(s.jsx)("strong",{children:t[e]})]})]}),Object(s.jsx)("img",{src:ne,alt:">"})]},e)}))}):null,Object(s.jsx)(C,{active:"orders",cartCount:n})]})},ve=(c(82),c.p+"static/media/Badge-Tick.e165a6cd.svg"),fe=c.p+"static/media/Copy.f8de0d29.svg";var ge=function(){var e=r.a.useState(!0),t=Object(j.a)(e,2),c=t[0],a=t[1],n=r.a.useState(""),i=Object(j.a)(n,2),u=i[0],b=i[1],m=r.a.useState(null),x=Object(j.a)(m,2),O=x[0],h=x[1],v=Object(d.b)(),f=Object(o.h)().id,g=Object(d.c)((function(e){return e.isNewOrder})),N=Object(d.c)((function(e){return e.cartItems.length})),y=Object(o.g)();te("orderDetailsScreenScrollY",[c]);var S=r.a.useCallback((function(){var e=window.localStorage.getItem("orders");return!!(e=e?JSON.parse(e):{})[f]}),[f]),w=r.a.useCallback((function(){var e=window.localStorage.getItem("orders");(e=e?JSON.parse(e):{})[f]&&delete e[f],window.localStorage.setItem("orders",JSON.stringify(e))}),[f]);return r.a.useEffect((function(){return function(){v(H(!1))}}),[v]),r.a.useEffect((function(){var e,t,c;S()&&(a(!0),b(""),e=f,t=function(e){a(!1);var t=e.data;t.error?b(t.error):h(t.payload)},c=function(e){var t,c;a(!1),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?b(e.response.data.error):b(e.message)},J.a.post("http://flamours.pythonanywhere.com/api/v1/orders/"+e,{auth_id:"03c32d0c-5545-47d1-b579-88e439693501"}).then((function(e){t(e)})).catch((function(e){c(e)})))}),[v,f,S]),S()?Object(s.jsxs)("div",{className:g?"OrderDetails":"OrderDetails with-fixed-bottom-navbar",children:[g?Object(s.jsx)(ie,{hideBackBtn:!0,children:Object(s.jsxs)(l.b,{to:"/",children:[Object(s.jsx)("img",{src:p,alt:""}),Object(s.jsx)("span",{style:{marginLeft:"8px"},children:"Home"})]})}):Object(s.jsx)(ie,{children:Object(s.jsxs)("button",{onClick:function(e){window.confirm("Are you sure you want to remove this Order from your Phone? You will not be able to view it afterwards.")&&(w(),v(R({text:"Order Removed!",timeout:2e3})),y.replace("/orders"))},children:[Object(s.jsx)("span",{children:"Remove from Phone"}),Object(s.jsx)("img",{src:de,alt:""})]})}),c?Object(s.jsx)(_,{}):null,""!==u?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsxs)("p",{className:"err-text",children:[u,Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/",className:"empty-cart-cta",children:"Go to Home Screen"})]})]}):null,c||""!==u||null===O?null:Object(s.jsxs)(s.Fragment,{children:[g?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("img",{src:ve,style:{display:"block",margin:"auto"},alt:""}),Object(s.jsxs)("p",{className:"success-text",children:["Thank You! :)",Object(s.jsx)("br",{}),"Order Placed Successfully!"]}),"PENDING CONFIRMATION"===O.status?Object(s.jsx)("p",{className:"err-text",style:{marginTop:"4px"},children:Object(s.jsx)("span",{children:"We will call you soon to confirm your order."})}):null]}):Object(s.jsx)("div",{style:{height:"4px"}}),Object(s.jsxs)("div",{className:"order-id-wpr",children:[Object(s.jsxs)("div",{className:"order-id-ctr",children:[Object(s.jsx)("h2",{children:O.uf_id}),Object(s.jsx)("input",{type:"text",readOnly:!0,value:O.uf_id,id:"orderIdCopyInput",style:{display:"none"}}),Object(s.jsxs)("button",{onClick:function(e){var t=document.getElementById("orderIdCopyInput");t.style.display="block",t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),t.style.display="none",v(R({text:"ID Copied!",timeout:2e3}))},children:[Object(s.jsx)("span",{children:"Copy ID"}),Object(s.jsx)("img",{src:fe,alt:""})]})]}),Object(s.jsxs)("p",{className:"err-text order_id_help-text",children:[Object(s.jsx)("strong",{children:"^ Order ID"}),g?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsx)("span",{children:"Take a Screenshot of this or write it down."})]}):null]})]}),Object(s.jsxs)("p",{className:"err-text status-text",children:["Placed On: ",Object(s.jsx)("strong",{children:O.placed_on}),Object(s.jsx)("br",{}),"Status: ",Object(s.jsx)("strong",{children:O.status}),Object(s.jsx)("br",{}),Object(s.jsx)("span",{children:g||"PENDING CONFIRMATION"!==O.status?null:"We will call you soon to confirm your order."})]}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsxs)("p",{className:"receipt-text text-center",children:["Order Summary \u2022 ",O.ordered_items.length," Item",1!==O.ordered_items.length?"s":null]}),Object(s.jsx)("div",{className:"divider"}),O.ordered_items.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsxs)("p",{className:"receipt-text",children:[Object(s.jsx)("strong",{children:e.name}),Object(s.jsx)("br",{}),"\u2022 ",e.unit_measure," \u2022 Qty. ",e.quantity]}),Object(s.jsxs)("p",{className:"receipt-text text-right",children:["Rs. ",e.sub_total,"/-"]})]}),Object(s.jsx)("div",{className:"divider"})]},t)})),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text",style:{marginBottom:"0px"},children:"Total:"}),Object(s.jsxs)("p",{className:"receipt-text text-right",style:{marginBottom:"0px"},children:["Rs. ",O.total,"/-"]})]}),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsxs)("p",{className:"receipt-text",style:{marginBottom:"0px"},children:["Tax (",O.tax_percentage,"%):"]}),Object(s.jsxs)("p",{className:"receipt-text text-right",style:{marginBottom:"0px"},children:["Rs. ",O.tax_amount,"/-"]})]}),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text",style:{marginBottom:"0px"},children:"Delivery Charges:"}),Object(s.jsxs)("p",{className:"receipt-text text-right",style:{marginBottom:"0px"},children:["Rs. ",O.delivery_charges,"/-"]})]}),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text",children:Object(s.jsx)("strong",{children:"GRAND TOTAL:"})}),Object(s.jsx)("p",{className:"receipt-text text-right",children:Object(s.jsxs)("strong",{children:["Rs. ",O.grand_total,"/-"]})})]}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)("p",{className:"receipt-text text-center",children:"Delivery Details"}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsxs)("div",{className:"delivery-details-items-ctr",children:[Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text hint-text",children:"Delivery Date:"}),Object(s.jsx)("p",{className:"receipt-text",children:Object(s.jsx)("strong",{children:O.delivery_date})})]}),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text hint-text",children:"Delivery Address:"}),Object(s.jsx)("p",{className:"receipt-text",children:Object(s.jsx)("strong",{children:O.delivery_address})})]}),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text hint-text",children:"Additional Comments:"}),Object(s.jsx)("p",{className:"receipt-text",children:Object(s.jsx)("strong",{children:""!==O.additional_comments?O.additional_comments:"-"})})]}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)("p",{className:"receipt-text text-center",children:"Contact Details"}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsxs)("div",{className:"delivery-details-items-ctr",children:[Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text hint-text",children:"Name:"}),Object(s.jsx)("p",{className:"receipt-text",children:Object(s.jsx)("strong",{children:O.customer_name})})]}),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text hint-text",children:"Email:"}),Object(s.jsx)("p",{className:"receipt-text",children:Object(s.jsx)("strong",{children:O.customer_email})})]}),Object(s.jsxs)("div",{className:"receipt-text-grp",children:[Object(s.jsx)("p",{className:"receipt-text hint-text",children:"Mobile:"}),Object(s.jsx)("p",{className:"receipt-text",children:Object(s.jsx)("strong",{children:O.customer_phone})})]}),Object(s.jsx)("div",{className:"divider"})]})]}),g?Object(s.jsx)(l.b,{to:"/",className:"empty-cart-cta",style:{width:"100%"},children:"Go to Home Screen"}):null]}),g?null:Object(s.jsx)(C,{cartCount:N})]}):(""===u&&b("It seems, either the Order ID is invalid or this Order was not submitted from this Device and can not be viewed here."),Object(s.jsxs)("div",{className:"OrderDetails",children:[Object(s.jsx)(ie,{hideBackBtn:!0,children:Object(s.jsxs)(l.b,{to:"/",children:[Object(s.jsx)("img",{src:p,alt:""}),Object(s.jsx)("span",{style:{marginLeft:"8px"},children:"Home"})]})}),""!==u?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsxs)("p",{className:"err-text",children:[u,Object(s.jsx)("br",{}),Object(s.jsx)(l.b,{to:"/",className:"empty-cart-cta",children:"Go to Home Screen"})]})]}):null]}))};c(83);var Ne=function(){var e=Object(d.c)((function(e){return e.toast})),t=r.a.useState(""),c=Object(j.a)(t,2),a=c[0],n=c[1],i=r.a.useRef(null),l=Object(d.b)();return r.a.useEffect((function(){i.current&&(window.clearTimeout(i.current),i.current=null),e&&(n(e.text),i.current=window.setTimeout((function(){l(R(null)),window.setTimeout((function(){n("")}),200)}),e.timeout))}),[e,l]),Object(s.jsx)("div",{className:e?"Toast visible":"Toast",children:Object(s.jsx)("p",{className:"toast-text",children:a})})},ye=c(19),Ce=(c(84),{products:[],cartItems:window.localStorage.getItem("cartItems")?JSON.parse(window.localStorage.getItem("cartItems")):[],calculatedCart:{items:[]},searchText:"",toast:null,preferences:null,isNewOrder:!1}),_e=Object(ye.b)((function(e,t){var c=Object(Oe.a)({},e);if(t.type===S&&(c.products=t.payload),t.type===w&&(c.searchText=t.payload),t.type===T){var s=!1,a=e.cartItems.map((function(e){return e.id===t.payload.id&&(e.quantity=t.payload.quantity,s=!0),e}));s||a.push(t.payload),c.cartItems=a}if(t.type===E&&(c.toast=t.payload),t.type===D&&(c.calculatedCart=t.payload),t.type===q){var r=e.cartItems.filter((function(e){return e.id!==t.payload.id}));c.cartItems=r}if(t.type===L){c.cartItems=[]}return t.type===F&&(c.preferences=t.payload),t.type===M&&(c.isNewOrder=t.payload),window.localStorage.setItem("cartItems",JSON.stringify(c.cartItems)),c}),Ce);c(87);var Se=function(){var e=r.a.useState([]),t=Object(j.a)(e,2),c=t[0],a=t[1],n=Object(d.c)((function(e){return e.cartItems.length})),i=r.a.useState(!0),l=Object(j.a)(i,2),o=l[0],u=l[1],b=r.a.useState(""),m=Object(j.a)(b,2),x=m[0],O=m[1];return r.a.useEffect((function(){var e,t;u(!0),O(""),e=function(e){u(!1);var t=e.data;if(t.error)return a([]),void O(t.error);a(t.payload)},t=function(e){var t,c;u(!1),a([]),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?O(e.response.data.error):O(e.message)},J.a.get("http://flamours.pythonanywhere.com/api/v1/termsconditions").then((function(t){e(t)})).catch((function(e){t(e)})),window.scrollTo(0,0)}),[]),Object(s.jsxs)("div",{className:"TermsConditions",children:[Object(s.jsx)(ie,{}),Object(s.jsx)("p",{className:"cart-items-count",children:"Terms & Conditions"}),Object(s.jsx)("div",{className:"divider"}),o?Object(s.jsx)(_,{}):null,o||""!==x?null:Object(s.jsx)(s.Fragment,{children:c.map((function(e,t){return Object(s.jsxs)("p",{className:"term-ctr",children:[Object(s.jsx)("span",{className:"num",children:t+1}),Object(s.jsx)("span",{className:"point",children:e})]},t)}))}),""!==x?Object(s.jsx)("p",{className:"err-text",children:x}):null,Object(s.jsx)(C,{cartCount:n})]})},we=(c(88),c.p+"static/media/Call.9c26916a.svg"),ke=c.p+"static/media/Message.31fd34a7.svg",Te=c.p+"static/media/Location.0d79edca.svg";var Ie=function(){var e=r.a.useState({}),t=Object(j.a)(e,2),c=t[0],a=t[1],n=Object(d.c)((function(e){return e.cartItems.length})),i=r.a.useState(!0),l=Object(j.a)(i,2),o=l[0],u=l[1],b=r.a.useState(""),m=Object(j.a)(b,2),x=m[0],O=m[1];return r.a.useEffect((function(){var e,t;u(!0),O(""),e=function(e){u(!1);var t=e.data;if(t.error)return a({}),void O(t.error);a(t.payload)},t=function(e){var t,c;u(!1),a({}),(null===(t=e.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.error)?O(e.response.data.error):O(e.message)},J.a.get("http://flamours.pythonanywhere.com/api/v1/contact").then((function(t){e(t)})).catch((function(e){t(e)})),window.scrollTo(0,0)}),[]),Object(s.jsxs)("div",{className:"Contact",children:[Object(s.jsx)(ie,{}),Object(s.jsx)("p",{className:"title-text-ctr",children:"Contact"}),Object(s.jsx)("div",{className:"divider"}),o?Object(s.jsx)(_,{}):null,o||""!==x?null:Object(s.jsxs)(s.Fragment,{children:[c.email&&""!==c.email?Object(s.jsxs)("p",{className:"term-ctr",children:[Object(s.jsx)("span",{className:"num",children:Object(s.jsx)("img",{src:ke,alt:"Email"})}),Object(s.jsx)("span",{className:"point",children:c.email})]}):null,c.phone&&""!==c.phone?Object(s.jsxs)("p",{className:"term-ctr",children:[Object(s.jsx)("span",{className:"num",children:Object(s.jsx)("img",{src:we,alt:"Phone"})}),Object(s.jsx)("span",{className:"point",children:c.phone})]}):null,c.address&&""!==c.address?Object(s.jsxs)("p",{className:"term-ctr",children:[Object(s.jsx)("span",{className:"num",children:Object(s.jsx)("img",{src:Te,alt:"Address"})}),Object(s.jsx)("span",{className:"point",children:c.address})]}):null]}),""!==x?Object(s.jsx)("p",{className:"err-text",children:x}):null,Object(s.jsx)(C,{cartCount:n})]})};var Ee=function(){return Object(s.jsx)(d.a,{store:_e,children:Object(s.jsxs)(ee,{children:[Object(s.jsx)(l.a,{children:Object(s.jsxs)(o.d,{children:[Object(s.jsx)(o.b,{exact:!0,path:"/",children:Object(s.jsx)(ce,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/cart",children:Object(s.jsx)(xe,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/checkout",children:Object(s.jsx)(he,{})}),Object(s.jsx)(o.b,{path:"/products/:id",children:Object(s.jsx)(oe,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/orders",children:Object(s.jsx)(pe,{})}),Object(s.jsx)(o.b,{path:"/orders/:id",children:Object(s.jsx)(ge,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/termsconditions",children:Object(s.jsx)(Se,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/contact",children:Object(s.jsx)(Ie,{})}),Object(s.jsx)(o.b,{path:"*",children:Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"err-text",children:"ERROR! PAGE NOT FOUND"})})})]})}),Object(s.jsx)(Ne,{})]})})},Re=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,n=t.getTTFB;c(e),s(e),a(e),r(e),n(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(Ee,{})}),document.getElementById("root")),Re()}},[[89,1,2]]]);
//# sourceMappingURL=main.087bcd5d.chunk.js.map